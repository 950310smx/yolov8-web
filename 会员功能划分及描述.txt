会员功能划分及功能描述（软著申请用）

===========================================
一、批量图像上传功能
===========================================
功能描述：
批量图像上传功能允许会员用户一次性选择多张图像文件进行批量处理。系统支持PNG、JPG、JPEG、TIF、TIFF、BMP等常见图像格式，用户可通过文件选择器多选文件，系统实时显示已选择的文件列表及数量。上传过程中系统自动进行文件类型校验，确保只处理支持的图像格式。该功能显著提升批量分析效率，适用于需要处理大量样本的场景。

===========================================
二、输出图像个性化设置功能
===========================================
功能描述：
输出图像个性化设置功能提供多种可视化选项，允许会员用户自定义分析结果图像的显示效果。具体包括：半透明涂色选项，可在检测到的颗粒区域添加半透明颜色填充，便于直观识别；高亮边缘选项，在颗粒边界绘制高亮边框，突出显示检测区域；标签文字选项，在图像上显示置信度分数和边缘触碰标识；颜色分配选项，根据颗粒是否触碰图像边缘自动分配颜色（绿色表示未触碰边缘，红色表示触碰边缘）。此外，系统还提供颜色方案选择，包括默认、蓝色系、绿色系、红色系等多种预设方案，满足不同用户的视觉偏好需求。

===========================================
三、参数计算选择功能
===========================================
功能描述：
参数计算选择功能允许会员用户根据分析需求灵活选择需要计算的参数指标。系统提供六种高级参数选项：长轴短轴比，通过拟合椭圆计算颗粒的长轴与短轴比值，反映颗粒的椭圆度或细长程度；莱利圆度（Riley Roundness），计算颗粒形状接近圆形的程度，值范围0-1；边界径向标准差，量化颗粒边界的不规则程度，值越大表示边界越不规则；灰度共生矩阵（GLCM）特征，包括对比度、能量、同质性三个纹理特征，用于描述颗粒表面的纹理特性；LBP熵，通过局部二值模式提取纹理复杂度信息；粉末遮盖率，计算颗粒覆盖图像总面积的比例。用户可根据实际需求勾选需要计算的参数，系统仅计算选中的参数，提高分析效率。

===========================================
四、边缘触碰检测功能
===========================================
功能描述：
边缘触碰检测功能自动识别位于图像边缘的颗粒，并对其进行标记和统计。系统通过检测颗粒边界框是否与图像边界接触来判断颗粒是否触碰边缘，触碰边缘的颗粒可能因图像裁剪导致形状信息不完整，影响分析准确性。该功能在输出图像中通过颜色区分（红色标记触碰边缘颗粒，绿色标记未触碰边缘颗粒），并在分析结果中统计触碰边缘颗粒的数量和比例，帮助用户评估分析结果的可靠性。

===========================================
五、形状分类功能
===========================================
功能描述：
形状分类功能基于莱利圆度值自动将颗粒分为"圆形"（Round）和"不规则"（Irregular）两类。系统设定圆度阈值（≥0.7为圆形，<0.7为不规则），对每个检测到的颗粒计算圆度值并进行分类。分类结果用于生成形状分布统计，包括圆形颗粒数量、不规则颗粒数量及其占比，并在可视化分析中通过不同颜色标识展示。该功能帮助用户快速了解样本中颗粒形状的整体分布特征。

===========================================
六、可视化分析功能
===========================================
功能描述：
可视化分析功能为会员用户提供定制化分析结果的详细图表展示和解释说明。系统生成多种类型的可视化图表：形状分布散点图，展示每个颗粒在圆度-长轴短轴比二维空间中的分布，区分圆形和不规则颗粒；边缘触碰对比图，对比触碰边缘与未触碰边缘颗粒在多个维度上的差异；圆度分布直方图，展示所有颗粒的圆度值分布情况；长轴短轴比分布直方图，展示所有颗粒的长轴短轴比分布情况；GLCM特征对比图，展示灰度共生矩阵纹理特征的对比。每个图表均配有详细的分析说明，包括指标含义、计算方法、当前分析结果解读及建议，帮助用户深入理解分析数据。

===========================================
七、定制报告导出功能
===========================================
功能描述：
定制报告导出功能允许会员用户将定制化分析结果导出为PDF格式的专业报告。报告包含基本信息表格（文件名、材料类型、分析类型、创建时间等）、检测结果图像、定制化分析指标表格（包括所有计算出的参数值）、可视化分析图表（形状分布饼图、圆度分布直方图、长轴短轴比分布直方图、形状分布散点图、边缘触碰对比图、GLCM特征对比图等）。报告采用专业排版设计，支持中文字体显示，包含检测人员和审核人员签名区域，适用于科研报告、质量检测文档等正式场合。

===========================================
八、颗粒详细信息记录功能
===========================================
功能描述：
颗粒详细信息记录功能为每个检测到的颗粒保存完整的分析数据，包括边缘触碰状态、圆度值、长轴短轴比、形状分类等信息。这些详细信息用于生成可视化图表，支持多维度的数据分析和对比。系统将颗粒详细信息以JSON格式存储在数据库中，便于后续的数据挖掘和深度分析，为科研和质量管理提供数据支撑。

===========================================
九、批量处理结果管理功能
===========================================
功能描述：
批量处理结果管理功能对批量上传的图像进行统一处理和管理。系统依次处理每张图像，执行YOLO模型检测、参数计算、图像标注等操作，并将每张图像的分析结果独立保存为分析报告。处理完成后，系统显示成功处理的图像数量，并将所有结果统一展示在报告中心，用户可方便地查看、对比和管理批量分析结果。

===========================================
十、会员权限控制功能
===========================================
功能描述：
会员权限控制功能确保定制化分析功能仅对会员用户开放。系统在用户访问定制化分析页面时检查用户角色，非会员用户将被重定向并提示需要会员权限。该功能通过会话管理机制实现，与用户注册、会员申请、管理员审批等功能模块协同工作，形成完整的用户权限管理体系。

